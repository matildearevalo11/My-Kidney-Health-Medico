<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agregar Preescripcion</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="../css/preescripciones.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/shared/jstable/dist/jstable.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@1,100&family=Montserrat:ital,wght@0,100;0,200;1,200&family=Mulish:ital,wght@0,200;1,200&family=Raleway+Dots&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: #ddf7fb">
    <header>
      <div class="header-container">
        <div class="logo">Logo</div>
        <nav>
          <ul>
            <li><a href="pacientes.html">Pacientes</a></li>
            <li><a href="prescripcion.html">Prescripción</a></li>
            <li>
              Seguimiento
              <ul class="submenu">
                <li><a href="especialista.html">Especialista</a></li>
                <li><a href="examenes.html">Examenes</a></li>
              </ul>
            </li>
            <li><a href="index.html">Cerrar sesión</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Titulo-->
    <div id="titulo" class="container-fluid">
      <h1 class="mt-3">Agregar Preescripcion</h1>
    </div>

    <!-- Formulario de registrar preescripcion-->
    <form id="agg-prescripcion-form">
    <div id="cont-agregar-preescripcion" class="container mt-3">
      <br>
      <select
                class="form-control"
                id="paciente" onload="listarPacientes()"
              >
              </select>
      <br>
      <div class="row mt-4 mx-auto">
        <div class="col-md-6">
          <div class="row">
            <div class="centrar-label col-5">
              <label class="form-label" for="cantidad">
                Cantidad de Recambios:</label
              >
            </div>
            <div class="col-2">
              <select
                class="form-control"
                id="cantidad"
                onchange="generarSelects()"
              >
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
          </div>
          <hr />
          <div id="selectContainer" class="margentop"></div>
          <div class="row">
            <div class="centrar-label col-5">
              <label class="form-label" for="cantidad"> Volumen</label>
            </div>
            <div class="col-3">
              <input
                class="form-control"
                type="text"
                value="2.000 C.c"
                disabled
              />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="row">
            <div class="centrar-label col-5">
              <label class="form-label" for="Rango">Rango de Recambios</label>
            </div>
            <div class="col-2">
              <input class="form-control" type="text" name="horas" id="horas" />
            </div>
            <div class="col-2">
              <div class="col-2">
                <label id="horasss" for="form-label">Horas</label>
              </div>
            </div>
          </div>
          <div class="row margentop">
            <div class="form-check">
              <div class="row">
                <div class="col-5">
                  <label class="form-check-label" for="exampleCheck1"
                    >Noche seca</label
                  >
                </div>
                <div class="col-3">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="noche" 
                    name="exampleCheck1"
                  />
                </div>
              </div>
            </div>
          </div>
          <div class="row margentop">
            <div class="centrar-label col-5">
              <label class="form-label" for="cantidad">
                Orificio de Salida:</label
              >
            </div>
            <div id="selectOrificio" class="col-6">
              <select class="form-control" name="Orificio" id="Orificio">
                <option value="">""</option>
                <option value="perfecto">perfecto</option>
                <option value="bueno">bueno</option>
                <option value="equivoco">equivoco</option>
                <option value="infeccionAguda">infeccionAguda</option>
                <option value="infeccionCronica">infeccionCronica</option>
                <option value="trauma">trauma</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <br />
    </div>
    <br />
    <div id="cont-button-regPreescripcion" class="container float-right">
      <button class="btn btn-danger" onclick="cancelarPreescripcion()">
        Cancelar
      </button>
      <button class="btn btn-primary" type="submit">Guardar</button>
    </div>
    </form>

    <script>

      function generarSelects() {
        var cantidad = document.getElementById("cantidad").value;
        var container = document.getElementById("selectContainer");
        container.className = "row";
        container.innerHTML = ""; // Limpiar el contenedor antes de generar nuevos selects

        for (var i = 0; i < cantidad; i++) {
          var labelContainer = document.createElement("div");
          labelContainer.className = "select-container";
          labelContainer.className = "";
          labelContainer.className = "col-5 centrar-label mt-2";

          var selectContainer = document.createElement("div");
          selectContainer.className = "select-container";
          selectContainer.className = "col-3";

          var select = document.createElement("select");
          select.className = "form-control";
          var id = "concentracion" + (i + 1); // ID único para el select
          select.id = id;

          var opciones = ["", "1.25%", "2.5%", "4.25%"];

          for (var j = 0; j < opciones.length; j++) {
            var option = document.createElement("option");
            option.value = opciones[j];
            option.text = opciones[j];
            select.appendChild(option);
          }

          var label = document.createElement("label");
          label.className = "form-label";

          label.for = id;
          label.innerText = "Concentración " + (i + 1) + ":"; // Texto del label

          labelContainer.appendChild(label);
          selectContainer.appendChild(select);

          container.appendChild(labelContainer);
          container.appendChild(selectContainer);
        }
      }

      function cancelarPreescripcion() {
        window.location.href = "/preescripcion.html";
      }
    </script>
      <script src="../js/agg-prescripcion.js"></script>
  </body>
</html>
